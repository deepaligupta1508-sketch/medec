<!DOCTYPE html>
<html lang="en">
<head>
    <title>LifeLine | Admin Sync</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body class="bg-gray-100 p-10">
    <div class="max-w-2xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden border">
        <div class="bg-blue-600 p-6 text-white text-center">
            <h1 class="text-2xl font-bold">Hospital Admin Sync</h1>
        </div>
        
        <form id="hospitalForm" class="p-8 grid grid-cols-2 gap-4">
            <div class="col-span-2">
                <label class="block text-xs font-bold text-gray-500 uppercase">Hospital Name</label>
                <input type="text" id="name" required class="w-full border p-2 rounded">
            </div>
            <div class="col-span-2">
                <label class="block text-xs font-bold text-gray-500 uppercase">Address</label>
                <input type="text" id="addr" required class="w-full border p-2 rounded">
            </div>
            <div>
                <label class="block text-xs font-bold text-gray-500 uppercase">ICU Beds</label>
                <input type="number" id="icu" class="w-full border p-2 rounded">
            </div>
            <div>
                <label class="block text-xs font-bold text-gray-500 uppercase">General Beds</label>
                <input type="number" id="gen" class="w-full border p-2 rounded">
            </div>
            <div>
                <label class="block text-xs font-bold text-gray-500 uppercase">Credentials</label>
                <input type="text" id="cred" class="w-full border p-2 rounded">
            </div>
            <div>
                <label class="block text-xs font-bold text-gray-500 uppercase">Timing</label>
                <input type="text" id="time" class="w-full border p-2 rounded">
            </div>
            <div class="col-span-2">
                <label class="block text-xs font-bold text-gray-500 uppercase">Specialities</label>
                <textarea id="spec" class="w-full border p-2 rounded"></textarea>
            </div>
            <div class="col-span-2">
                <label class="block text-xs font-bold text-gray-500 uppercase">Amenities</label>
                <input type="text" id="amen" class="w-full border p-2 rounded">
            </div>
            <button type="submit" class="col-span-2 bg-blue-600 text-white font-bold py-3 rounded hover:bg-blue-700">
                SYNC LIVE DATA
            </button>
        </form>
    </div>

    <script>
        const socket = io('http://localhost:5000');
        document.getElementById('hospitalForm').onsubmit = (e) => {
            e.preventDefault();
            const data = {
                hospitalName: document.getElementById('name').value,
                address: document.getElementById('addr').value,
                icuBeds: parseInt(document.getElementById('icu').value),
                generalBeds: parseInt(document.getElementById('gen').value),
                credentials: document.getElementById('cred').value,
                timing: document.getElementById('time').value,
                specialities: document.getElementById('spec').value,
                amenities: document.getElementById('amen').value
            };
            socket.emit('update_hospital', data);
            alert("âœ… Successfully Synced to Cloud!");
        };
    </script>
</body>
</html>